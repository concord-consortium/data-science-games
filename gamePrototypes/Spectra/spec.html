<!--
==========================================================================

 * Created by tim on 3/23/16.


 ==========================================================================
 spec.html in data-science-games.

HTML wrapper for ....

    Author:   Tim Erickson

Copyright (c) 2016 by The Concord Consortium, Inc. All rights reserved.

    Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
limitations under the License.
==========================================================================

-->
<!--
Here is the URL...

http://codap.concord.org/releases/latest/static/dg/en/cert/index.html?di=http://www.eeps.com/dsg/Spectra/spec.html

or locally,
http://codap.concord.org/releases/latest/static/dg/en/cert/index.html?di=http://localhost/~tim/gamePrototypes/Spectra/spec.html
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!--        stylesheets         -->
    <link rel='stylesheet' type='text/css'
          href='http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/themes/base/jquery-ui.css'/>
    <link rel='stylesheet' type='text/css' href='spec.css'/>

    <!-- These two scripts take care of the communication with CODAP and commons -->
    <script src="../common/iframe-phone.js" language="javascript"></script>
    <script src="../common/codap_helper.js" language="javascript"></script>

    <script src="../common/TEEUtils.js" language="javascript"></script>
    <script src="../common/jquery.js" language="javascript"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

    <title>Spectra</title>

    <!-- Snap -->
    <script src="../Snap.svg/dist/snap.svg.js"></script>

    <!--            our game source         -->

    <script src="spec.js" language="JavaScript"></script>
    <script src="spec.manager.js" language="JavaScript"></script>
    <script src="spec.ui.js" language="JavaScript"></script>
    <script src="spec.model.js" language="JavaScript"></script>
    <script src="spec.connect.js" language="JavaScript"></script>
    <!--
        <script src="spec.options.js" language="JavaScript"></script>
        <script src="spec.connector.js" language="JavaScript"></script>
    -->

    <script src="Spectrum.js" language="JavaScript"></script>
    <script src="SpectrumView.js" language="JavaScript"></script>
    <script src="Line.js" language="JavaScript"></script>

    <script>
        $(function () {
            $("#tabs").tabs();
        });
    </script>


</head>
<body>

<div id="tabs">
    <!--    list the tabs for this jquery_ui widget -->
    <ul>
        <li><a href="#spectrographTab">Lab</a></li>
        <li><a href="#skyTab">Sky</a></li>
        <li><a href="#instructionsTab">How To</a></li>
        <li><a href="#optionsTab">Options</a></li>
        <li><a href="#debugTab">Debug</a></li>
    </ul>

    <!--    Now describe each tab separately, note how the list above references the IDs    -->

    <div id="spectrographTab">     <!--    Spectrograph     -->
        <div class="vBox">

            <fieldset>
                <legend>Source</legend>
                <div class="hBox">
                    <input type="radio" name="sourceType" value="discharge"
                           onchange="spec.manager.spectrumParametersChanged();" checked>
                    Discharge tube:
                    <select name="source" id="dischargeTubeMenu" onchange="spec.manager.spectrumParametersChanged();">
                        <option name="H">Hydrogen</option>
                        <option name="He">Helium</option>
                        <option name="NaI">Sodium</option>
                        <option name="CaII">Calcium</option>
                        <option name="CaII">Iron (neutral)</option>
                    </select>
                </div>

                <div class="hBox">
                    <input type="radio" name="sourceType" value="blackbody"
                           onchange="spec.manager.spectrumParametersChanged();">
                    <label>
                        Blackbody temp:
                        <div id="labTempSlider" class="ui-slider"></div>
                        <div id="labTempDisplay" class="sliderLabel"></div>
                    </label>
                </div>


            </fieldset>

            <label>
                Wavelength range (nm):
                <input type="number" id="lambdaMin" value="380" maxlength="9" max="700" min="350"
                       onblur="spec.manager.spectrumParametersChanged();">
                -
                <input type="number" id="lambdaMax" value="700" maxlength="9" max="700" min="350"
                       onblur="spec.manager.spectrumParametersChanged();">
            </label>

            <label>
                Gain:
                <div id="labSpectrographGainSlider" class="ui-slider"></div>
                <div id="gainDisplay" class="sliderLabel"></div>
            </label>
        </div>
        <br>
        <svg id="spectrumDisplay" width=400 height="24">

        </svg>
        <button onclick="spec.manager.recordSpectrum('lab');">record spectrum</button>


        <!--   </div>

           this is whwer we used to split for the sky tab
           <div id="skyTab">

               -->

        <hr>
        <h2>Meanwhile, in the sky...</h2>

        <div id="skySpectrumWavelengthRangeLabel">Range</div>
        <svg id="skySpectrumDisplay" width=400 height="24"></svg>
        <button onclick="spec.manager.recordSpectrum('sky');">record spectrum</button>

        <fieldset>
            <legend>New star parameters</legend>

            <label>
                Blackbody temp:
                <div id="skyObjectBlackbodyTempSlider" class="ui-slider"></div>
                <div id="skyObjectBlackbodyTempDisplay" class="sliderLabel"></div>
            </label>
            <button onclick="spec.manager.newStellarSpectrum();">Observe new star</button>
        </fieldset>

    </div>


    <div id="instructionsTab">
        <h2>Make spectrograms!</h2>
        <p><b>FOR NOW</b>, the "Sky" tab is not working properly.
        All of its functionality is in the Lab tab.</p>
        <ul>
            <li>In the lab (above the line, lab tab),
            investigate spectra from discharge tubes (emission lines) and continuous blackbody spectra</li>
            <li>Click <b>record spectrum</b> to send the data from a spectrum to CODAP.</li>
            <li>Notice how you can change the wavelengths you're looking at.
                We only really care about the visible spectrum, between 380 and 700 nm.</li>
            <li>Compare these spectra to a stellar spectrum. You have one to start with.</li>
            <li>Get a new (random) star by clicking "Observe New Star."</li>
            <li>See if you can figure out the temperature and recession velocity of the star.</li>
        </ul>

        <p>We're simplifying spectra, of course. And although you see nice color spectra,
            your underlying data are from a digital photometer with only 100 channels.</p>
    </div>


    <!--            OPTIONS TAB         -->

    <div id="optionsTab">
        <div class="vBox options" id="gameOptions" onclick="steb.options.optionChange()">
            Options will go here.
            <!--
            <label><input type="checkbox" id="backgroundCrud" checked>include Crud</label>
            -->
        </div>
    </div>


    <div id="debugTab">
        <span id="debugText"></span>
    </div>

</div>

</body>

<script language="JavaScript">
    spec.initialize();
</script>

</html>