<!--
==========================================================================

 * Created by tim on 3/23/16.
 
 
 ==========================================================================
 steb.html in data-science-games.

HTML wrapper for ....

    Author:   Tim Erickson

Copyright (c) 2016 by The Concord Consortium, Inc. All rights reserved.

    Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
limitations under the License.
==========================================================================

-->
<!--
Here is the URL...

http://codap.concord.org/releases/latest/static/dg/en/cert/index.html?di=http://www.eeps.com/dsg/steb/steb.html

or locally,
http://codap.concord.org/releases/latest/static/dg/en/cert/index.html?di=http://localhost/~tim/gamePrototypes/steb/steb.html

locally, new API:
http://codap.concord.org/~jsandoe/new_di_api/static/dg/en/cert/index.html?di=http://localhost/~tim/gamePrototypes/steb/steb.html

-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!--        stylesheets         -->
    <link rel='stylesheet' type='text/css' href='http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/themes/base/jquery-ui.css'/>
    <link rel='stylesheet' type='text/css' href='steb.css'/>

    <!-- These two scripts take care of the communication with CODAP and commons -->
    <script src="../common/codap_helper.js" language="javascript"></script>
    <script src="../common/iframe-phone.js" language="javascript"></script>

    <script src="../common/TEEUtils.js" language="javascript"></script>
    <script src="../common/jquery.js" language="javascript"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

    <title>Stebbins</title>

    <!-- Snap -->
    <script src="../Snap.svg/dist/snap.svg.js"></script>

    <!--            our game source         -->

    <script src="steb.js" language="JavaScript"></script>
    <script src="steb.manager.js" language="JavaScript"></script>
    <script src="steb.ui.js" language="JavaScript"></script>
    <script src="steb.model.js" language="JavaScript"></script>
    <script src="steb.score.js" language="JavaScript"></script>
    <script src="steb.options.js" language="JavaScript"></script>
    <script src="steb.connector.js" language="JavaScript"></script>
    <script src="steb.worldView.js" language="JavaScript"></script>

    <script src="Stebber.js" language="JavaScript"></script>
    <script src="StebberView.js" language="JavaScript"></script>
    <script src="CrudView.js" language="JavaScript"></script>
    <script src="steb.predator.js" language="JavaScript"></script>

    <script>
        $(function() {
            steb.initialize();
            $( "#tabs" ).tabs();
        });
    </script>


</head>
<body>

<div id="tabs">
    <!--    list the tabs for this jquery_ui widget -->
    <ul>
        <li><a href="#worldTab">World</a></li>
        <li><a href="#predatorVisionTab">Vision</a></li>
        <li><a href="#instructionsTab">How To</a></li>
        <li><a href="#backgroundTab">About</a></li>
        <li><a href="#optionsTab">Options</a></li>
        <li><a href="#debugTab">Debug</a></li>
    </ul>

    <!--    Now describe each tab separately, note how the list above references the IDs    -->

    <div id="worldTab">     <!--    The main tab, where the game is     -->
        <div class="hBox" id="scoreDiv">
            Evolution Points: <div id="evolutionPoints"></div>&nbsp;Predator Energy: <div id="predatorEnergy"></div>
        </div>
        <svg id="stebSnapWorld" width="300" height="300" onclick="steb.ui.clickInWorld();">
            <rect width="100" height="100" fill="dodgerblue"></rect>
            <rect width="100" height="100" x="200" y="200" fill="dodgerblue"></rect>
            <rect width="200" height="200" x="50" y="50" fill="goldenrod" fill-opacity="0.5"></rect>
        </svg>
        <div class="hBox">
            <div class = "imageButton" id="startStop" onclick="steb.ui.pauseButtonPressed();"></div>
            <div class = "textIO" style = "width : 90px">
                t = <span id = "timeDisplay">0</span>
                m = <span id = "mealDisplay">0</span>
            </div>
            <button id="popDataButton" onclick="steb.manager.emitPopulationData()">data</button>
            <button id="newBGColorButton" onclick="steb.ui.selectOldestStebber()">oldest</button>
            <button id="newGameButton" onclick="steb.ui.newGameButtonPressed()">new game</button>
        </div>
        <div class = "hBox">
            <span id="shortStatus"></span><label>
            <input type="checkbox" id="visionUseParameters" onclick="steb.options.predatorVisionChange()" >
                    use vision parameters</label>
        </div>
    </div>

    <!--        VISION tab      -->

    <div id="predatorVisionTab" onchange="steb.options.predatorVisionChange()">
        <h2>Predator Vision Parameters</h2>
        <p>Choose one 'vision method' and then fill in its parameters.</p>
        <div class="hBox">
            <input type="radio" name="predatorVisionType" value="dotProduct" checked>
            <fieldset>
                <legend>Color response (dot-product method)</legend>
                <div class="vBox options" id="visionParameters" >
                    <label><input type="text" id="visionRed" value="1"> red (0 to 1)</label>
                    <!-- todo: make these disappear when vision not in use -->
                    <label><input type="text" id="visionGreen" value="0"> green (0 to 1)</label>
                    <label><input type="text" id="visionBlue" value="0"> blue (0 to 1)</label>
                </div>
            </fieldset>
        </div>

        <div class="hBox">
            <input type="radio" name="predatorVisionType" value="formula">

            <fieldset>
                <legend> B/W response (enter coefficients)</legend>
                <br>
                <div id="redCoefficient" ></div>
                <div id="redCoeffDisplay" class="sliderLabel"></div><br><br>    <!--    the red slider -->
                <div id="greenCoefficient"></div>
                <div id="greenCoeffDisplay" class="sliderLabel"></div><br><br>    <!--    the green slider -->
                <div id="blueCoefficient"></div>
                <div id="blueCoeffDisplay" class="sliderLabel"></div><br><br>    <!--    the blue slider -->
                <div id="visionFormula">foo</div>
            </fieldset>

        </div>

    </div>

    <div id="instructionsTab">
        <p>Eat the circles. They're called "Stebbers."
            We need to encourage "predators" to eat the most obvious ones
            as opposed to the closest. </p>
        <p>Do NOT eat the "Crud." The Crud are round-cornered rectangles,
            so they look a lot like Stebbers, but they're NOT STEBBERS.</p>
        <p>Whenever you eat a Stebber, a new one is born from a randomly-chosen "parent."</p>
        <p>Data are collected every ten meals, or whenever you press Data.</p>
    </div>


    <div id="backgroundTab">
        <p>Evolution simulation about protective coloration. You are the predator.</p>
        <p>Based on the old, offline "Stebbins Game."</p>
    </div>


    <div id="optionsTab">
        <div class = "vBox options" id = "gameOptions" onclick="steb.options.optionChange()">
            <label><input type="checkbox" id="backgroundCrud" checked>include Crud</label>
            <label><input type="checkbox" id="delayReproduction" >delay reproduction (wait and do 5)</label>
            <label><input type="checkbox" id="reducedMutation" >reduced mutation</label>
            <label><input type="checkbox" id="flee" checked>stebbers run from predation</label>
            <label><input type="checkbox" id="eldest" checked>only the eldest spawns</label>
            <label><input type="checkbox" id="automatedPredator" >automated predator</label>
        </div>
    </div>


    <div id="debugTab">
        <span id="debugText"></span>
    </div>

</div>

</body>


</html>